(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-coupon-list"],{"0497":function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,'@charset "UTF-8";\n/* 页面左右间距 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 边框颜色 */\n/* 图片加载中颜色 */\n/* 行为相关颜色 */uni-page-body[data-v-1e7d2872]{background:#f8f8f8}\n/* 列表 */.coupon-list[data-v-1e7d2872]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-flex-wrap:wrap;flex-wrap:wrap;padding:0 %?30?%;border-radius:%?20?%}.coupon-list .coupon-list_item[data-v-1e7d2872]{width:100%;height:110px;margin:%?10?% 0;background-color:#fff;border-radius:5px}.coupon-list .coupon-list_item .coupon-left[data-v-1e7d2872]{float:left;width:45%;height:100%;padding:%?10?%}.coupon-list .coupon-list_item .coupon-left uni-image[data-v-1e7d2872]{width:100%;height:100%;opacity:1}.coupon-list .coupon-list_item .coupon-right[data-v-1e7d2872]{padding:%?10?%;width:55%;float:left;border-radius:0 10px 10px 0}.coupon-list .coupon-list_item .coupon-right .name[data-v-1e7d2872]{color:#303133;font-size:%?32?%}.coupon-list .coupon-list_item .coupon-right .valid[data-v-1e7d2872]{color:#909399;font-size:%?28?%;line-height:%?40?%}.coupon-list .coupon-list_item .coupon-right .stock[data-v-1e7d2872]{color:#909399;font-size:%?28?%;line-height:%?40?%;margin-top:%?10?%}.coupon-list .coupon-list_item .coupon-right .buy[data-v-1e7d2872]{float:right;width:90px;height:%?60?%;border:.5px solid rgba(219,63,96,.4);border-radius:%?30?%;line-height:%?60?%;color:#ff3d45;font-size:14px;text-align:center}body.?%PAGE?%[data-v-1e7d2872]{background:#f8f8f8}',""])},1125:function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,".uni-load-more[data-v-0eccb548]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;height:%?80?%;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.uni-load-more__text[data-v-0eccb548]{font-size:%?28?%;color:#999}.uni-load-more__img[data-v-0eccb548]{height:24px;width:24px;margin-right:10px}.uni-load-more__img>uni-view[data-v-0eccb548]{position:absolute}.uni-load-more__img>uni-view uni-view[data-v-0eccb548]{width:6px;height:2px;border-top-left-radius:1px;border-bottom-left-radius:1px;background:#999;position:absolute;opacity:.2;-webkit-transform-origin:50%;transform-origin:50%;-webkit-animation:load-data-v-0eccb548 1.56s ease infinite;animation:load-data-v-0eccb548 1.56s ease infinite}.uni-load-more__img>uni-view uni-view[data-v-0eccb548]:first-child{-webkit-transform:rotate(90deg);transform:rotate(90deg);top:2px;left:9px}.uni-load-more__img>uni-view uni-view[data-v-0eccb548]:nth-child(2){-webkit-transform:rotate(180deg);transform:rotate(180deg);top:11px;right:0}.uni-load-more__img>uni-view uni-view[data-v-0eccb548]:nth-child(3){-webkit-transform:rotate(270deg);transform:rotate(270deg);bottom:2px;left:9px}.uni-load-more__img>uni-view uni-view[data-v-0eccb548]:nth-child(4){top:11px;left:0}.load1[data-v-0eccb548],.load2[data-v-0eccb548],.load3[data-v-0eccb548]{height:24px;width:24px}.load2[data-v-0eccb548]{-webkit-transform:rotate(30deg);transform:rotate(30deg)}.load3[data-v-0eccb548]{-webkit-transform:rotate(60deg);transform:rotate(60deg)}.load1 uni-view[data-v-0eccb548]:first-child{-webkit-animation-delay:0s;animation-delay:0s}.load2 uni-view[data-v-0eccb548]:first-child{-webkit-animation-delay:.13s;animation-delay:.13s}.load3 uni-view[data-v-0eccb548]:first-child{-webkit-animation-delay:.26s;animation-delay:.26s}.load1 uni-view[data-v-0eccb548]:nth-child(2){-webkit-animation-delay:.39s;animation-delay:.39s}.load2 uni-view[data-v-0eccb548]:nth-child(2){-webkit-animation-delay:.52s;animation-delay:.52s}.load3 uni-view[data-v-0eccb548]:nth-child(2){-webkit-animation-delay:.65s;animation-delay:.65s}.load1 uni-view[data-v-0eccb548]:nth-child(3){-webkit-animation-delay:.78s;animation-delay:.78s}.load2 uni-view[data-v-0eccb548]:nth-child(3){-webkit-animation-delay:.91s;animation-delay:.91s}.load3 uni-view[data-v-0eccb548]:nth-child(3){-webkit-animation-delay:1.04s;animation-delay:1.04s}.load1 uni-view[data-v-0eccb548]:nth-child(4){-webkit-animation-delay:1.17s;animation-delay:1.17s}.load2 uni-view[data-v-0eccb548]:nth-child(4){-webkit-animation-delay:1.3s;animation-delay:1.3s}.load3 uni-view[data-v-0eccb548]:nth-child(4){-webkit-animation-delay:1.43s;animation-delay:1.43s}@-webkit-keyframes load-data-v-0eccb548{0%{opacity:1}to{opacity:.2}}",""])},"20ab":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"uni-load-more"},[i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:"loading"===t.status&&t.showIcon,expression:"status === 'loading' && showIcon"}],staticClass:"uni-load-more__img"},[i("v-uni-view",{staticClass:"load1"},[i("v-uni-view",{style:{background:t.color}}),i("v-uni-view",{style:{background:t.color}}),i("v-uni-view",{style:{background:t.color}}),i("v-uni-view",{style:{background:t.color}})],1),i("v-uni-view",{staticClass:"load2"},[i("v-uni-view",{style:{background:t.color}}),i("v-uni-view",{style:{background:t.color}}),i("v-uni-view",{style:{background:t.color}}),i("v-uni-view",{style:{background:t.color}})],1),i("v-uni-view",{staticClass:"load3"},[i("v-uni-view",{style:{background:t.color}}),i("v-uni-view",{style:{background:t.color}}),i("v-uni-view",{style:{background:t.color}}),i("v-uni-view",{style:{background:t.color}})],1)],1),i("v-uni-text",{staticClass:"uni-load-more__text",style:{color:t.color}},[t._v(t._s("more"===t.status?t.contentText.contentdown:"loading"===t.status?t.contentText.contentrefresh:t.contentText.contentnomore))])],1)},o=[];i.d(e,"a",function(){return a}),i.d(e,"b",function(){return o})},"23af":function(t,e,i){var a=i("1125");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var o=i("4f06").default;o("058508d8",a,!0,{sourceMap:!1,shadowMode:!1})},"25de":function(t,e,i){"use strict";var a=i("23af"),o=i.n(a);o.a},"38ea":function(t,e,i){"use strict";i.r(e);var a=i("c74b"),o=i.n(a);for(var n in a)"default"!==n&&function(t){i.d(e,t,function(){return a[t]})}(n);e["default"]=o.a},"45de":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={name:"uni-load-more",props:{status:{type:String,default:"more"},showIcon:{type:Boolean,default:!0},color:{type:String,default:"#777777"},contentText:{type:Object,default:function(){return{contentdown:"上拉显示更多",contentrefresh:"正在加载...",contentnomore:"没有更多数据了"}}}},data:function(){return{}}};e.default=a},6946:function(t,e,i){"use strict";i.r(e);var a=i("a8a0"),o=i("38ea");for(var n in o)"default"!==n&&function(t){i.d(e,t,function(){return o[t]})}(n);i("a100");var c=i("2877"),d=Object(c["a"])(o["default"],a["a"],a["b"],!1,null,"1e7d2872",null);e["default"]=d.exports},"943f":function(t,e,i){"use strict";i.r(e);var a=i("45de"),o=i.n(a);for(var n in a)"default"!==n&&function(t){i.d(e,t,function(){return a[t]})}(n);e["default"]=o.a},a100:function(t,e,i){"use strict";var a=i("f01f"),o=i.n(a);o.a},a8a0:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"content"},[i("v-uni-view",{staticClass:"coupon-list"},t._l(t.coupons,function(e){return i("v-uni-view",{staticClass:"coupon-list_item"},[i("v-uni-view",{staticClass:"coupon-left"},[i("v-uni-image",{attrs:{src:e.imageUrl}})],1),i("v-uni-view",{staticClass:"coupon-right",attrs:{bindtap:"checkbox"}},[i("v-uni-view",{staticClass:"name"},[i("v-uni-text",[t._v(t._s(e.name))])],1),i("v-uni-view",{staticClass:"stock"},["0"==e.benefitType?i("v-uni-text",[t._v("所有商品")]):t._e(),"1"==e.benefitType?i("v-uni-text",[t._v("指定商品")]):t._e()],1),i("v-uni-view",{staticClass:"valid"},[e.conditionAmount>0?i("v-uni-text",[t._v("满"+t._s(e.conditionAmount)+"元可用")]):i("v-uni-text",[t._v("无金额限制")])],1),i("v-uni-view",{staticClass:"buy",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.getCoupon(e)}}},[t._v("立即领取")])],1)],1)}),1),i("uni-load-more",{attrs:{status:t.loadingType}})],1)},o=[];i.d(e,"a",function(){return a}),i.d(e,"b",function(){return o})},c74b:function(t,e,i){"use strict";var a=i("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=a(i("cebc")),n=a(i("f1e9")),c=i("2f62"),d={components:{uniLoadMore:n.default},data:function(){return{pageNo:1,pageSize:10,coupons:[],total:0,loadingType:""}},onLoad:function(t){this.searchCoupon()},onReachBottom:function(){"more"===this.loadingType&&(this.pageNo=this.pageNo+1,this.searchCoupon())},computed:(0,o.default)({},(0,c.mapState)(["hasLogin","userInfo","footPrint"])),methods:{searchCoupon:function(){var t=this,e={keyArray:["ACTIVE"],active:!0,startIndex:(this.pageNo-1)*this.pageSize,pageSize:this.pageSize};this.loadingType="loading",this.$api.request.couponList(e,function(e){if("0"===e.body.status.statusCode){var i=e.body.data.coupons;t.coupons=t.coupons.concat(i),t.total=e.body.data.total,t.loadingType=t.coupons.length>=t.total?"noMore":"more"}else t.loadingType="more"},!0)},getCoupon:function(t){var e=this;this.$api.request.getCoupon({actionType:"RECEIVE",couponDTO:{couponUuid:t.couponUuid},userDTO:{userUuid:this.userInfo.userUuid},receiveChannel:"SELF"},function(t){"0"===t.body.status.statusCode?e.$api.msg("领取成功"):e.$api.msg(t.body.status.errorDesc)},!1)},resetPage:function(){this.coupons=[],this.total=0,this.pageNo=1},navToDetailPage:function(t){var e=t.productUuid;uni.navigateTo({url:"/pages/product/product?id=".concat(e)})}}};e.default=d},f01f:function(t,e,i){var a=i("0497");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var o=i("4f06").default;o("475f3a9f",a,!0,{sourceMap:!1,shadowMode:!1})},f1e9:function(t,e,i){"use strict";i.r(e);var a=i("20ab"),o=i("943f");for(var n in o)"default"!==n&&function(t){i.d(e,t,function(){return o[t]})}(n);i("25de");var c=i("2877"),d=Object(c["a"])(o["default"],a["a"],a["b"],!1,null,"0eccb548",null);e["default"]=d.exports}}]);