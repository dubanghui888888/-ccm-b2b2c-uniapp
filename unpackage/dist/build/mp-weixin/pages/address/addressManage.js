(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/address/addressManage"],{"0456":function(e,t,a){},"695f":function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement;e._self._c},i=[];a.d(t,"a",function(){return s}),a.d(t,"b",function(){return i})},"805c":function(e,t,a){"use strict";var s=a("0456"),i=a.n(s);i.a},b462:function(e,t,a){"use strict";a.r(t);var s=a("695f"),i=a("e07a");for(var n in i)"default"!==n&&function(e){a.d(t,e,function(){return i[e]})}(n);a("805c");var r=a("2877"),o=Object(r["a"])(i["default"],s["a"],s["b"],!1,null,null,null);t["default"]=o.exports},c8b7:function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=a("2f62");function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},s=Object.keys(a);"function"===typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),s.forEach(function(t){n(e,t,a[t])})}return e}function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var r=function(){return Promise.all([a.e("common/vendor"),a.e("components/w-picker/w-picker")]).then(a.bind(null,"3715"))},o={data:function(){return{manageType:"",addressData:{name:"",telephone:"",province:"北京市",city:"市辖区",area:"东城区",street:"",zipcode:"",default:!0},defaultRegion:["北京市","市辖区","东城区"]}},onLoad:function(t){var a="新增收货地址";"edit"===t.type&&(a="编辑收货地址",this.addressData=JSON.parse(t.data),this.defaultRegion=[this.addressData.province,this.addressData.city,this.addressData.area]),this.manageType=t.type,e.setNavigationBarTitle({title:a})},computed:i({},(0,s.mapState)(["hasLogin","userInfo"])),components:{wPicker:r},methods:{showAddressRegion:function(){this.$refs["region"].show()},onConfirm:function(e){this.$set(this.addressData,"province",e.checkArr[0]),this.$set(this.addressData,"city",e.checkArr[1]),this.$set(this.addressData,"area",e.checkArr[2])},switchChange:function(e){this.addressData.default=e.detail.value},chooseLocation:function(){var t=this;e.chooseLocation({success:function(e){t.addressData.addressName=e.name}})},confirm:function(){var t=this,a=this.addressData;if(a.name)if(this.$api.util.validateMobileNo(a.telephone))if(a.street){var s=this.addressData;"edit"==this.manageType?s.actionType="MODIFY":(s.actionType="ADD",s.userDTO={userUuid:this.userInfo.userUuid}),this.$api.request.saveUserShip(s,function(a){if("0"===a.body.status.statusCode){var s="地址添加成功";"edit"==t.manageType&&(s="地址修改成功"),t.$api.msg(s),setTimeout(function(){t.$api.prePage().refreshList(),e.navigateBack()},800)}else t.$api.msg(a.body.status.errorDesc)})}else this.$api.msg("请填写详细地址");else this.$api.msg("请输入正确的手机号码");else this.$api.msg("请填写收货人姓名")},del:function(){var t=this,a={userDeliveryAddressUuid:this.addressData.userDeliveryAddressUuid,actionType:"DELETE"};this.$api.request.removeShip(a,function(a){"0"===a.body.status.statusCode?(t.$api.msg("地址删除成功"),setTimeout(function(){t.$api.prePage().refreshList(),e.navigateBack()},800)):t.$api.msg(a.body.status.errorDesc)})}}};t.default=o}).call(this,a("543d")["default"])},dcd7:function(e,t,a){"use strict";(function(e){a("542b"),a("921b");s(a("66fd"));var t=s(a("b462"));function s(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,a("543d")["createPage"])},e07a:function(e,t,a){"use strict";a.r(t);var s=a("c8b7"),i=a.n(s);for(var n in s)"default"!==n&&function(e){a.d(t,e,function(){return s[e]})}(n);t["default"]=i.a}},[["dcd7","common/runtime","common/vendor"]]]);