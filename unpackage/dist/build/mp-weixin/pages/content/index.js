(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/content/index"],{"0b36":function(e,t,n){"use strict";(function(e){n("542b"),n("921b");a(n("66fd"));var t=a(n("21aa"));function a(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,n("543d")["createPage"])},"139c":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement;e._self._c},r=[];n.d(t,"a",function(){return a}),n.d(t,"b",function(){return r})},"21aa":function(e,t,n){"use strict";n.r(t);var a=n("139c"),r=n("bb31");for(var o in r)"default"!==o&&function(e){n.d(t,e,function(){return r[e]})}(o);n("dbb6");var i=n("2877"),s=Object(i["a"])(r["default"],a["a"],a["b"],!1,null,null,null);t["default"]=s.exports},b1c0:function(e,t,n){},bb31:function(e,t,n){"use strict";n.r(t);var a=n("d113"),r=n.n(a);for(var o in a)"default"!==o&&function(e){n.d(t,e,function(){return a[e]})}(o);t["default"]=r.a},d113:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=o(n("a34a")),r=(o(n("08b4")),n("2f62"));function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n,a,r,o,i){try{var s=e[o](i),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(a,r)}function s(e){return function(){var t=this,n=arguments;return new Promise(function(a,r){var o=e.apply(t,n);function s(e){i(o,a,r,s,u,"next",e)}function u(e){i(o,a,r,s,u,"throw",e)}s(void 0)})}}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){c(e,t,n[t])})}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l,d=function(){return n.e("components/mix-pulldown-refresh/mix-pulldown-refresh").then(n.bind(null,"beb6"))},f=function(){return n.e("components/mix-load-more/mix-load-more").then(n.bind(null,"bce2"))},b=0,h=!1,p={components:{mixPulldownRefresh:d,mixLoadMore:f},data:function(){return{tabCurrentIndex:0,scrollLeft:0,enableScroll:!0,tabBars:[],pageSize:10}},computed:u({},(0,r.mapState)(["hasLogin","userInfo","footPrint","applicationConfig"]),{advertNavUrl:function(){var e={title:"测试跳转新闻详情",author:"测试作者",time:"2019-04-26 21:21"};return"/pages/details/details?data=".concat(JSON.stringify(e))}}),onLoad:function(){var t=s(a.default.mark(function t(){return a.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:b=e.getSystemInfoSync().windowWidth,this.loadTabbars();case 2:case"end":return t.stop()}},t,this)}));function n(){return t.apply(this,arguments)}return n}(),onReady:function(){},methods:{loadTabbars:function(){var e=this;this.$api.request.inquiryTag({tagType:"ARTICLE"},function(t){if("0"===t.body.status.statusCode){var n=t.body.data.tags;n.forEach(function(e){e.newsList=[],e.loadMoreStatus=0,e.refreshing=0,e.pageNo=1}),e.tabBars=n,e.loadNewsList("add")}})},loadNewsList:function(e){var t=this,n=this.tabBars[this.tabCurrentIndex];if("add"===e){if(2===n.loadMoreStatus)return;n.loadMoreStatus=1}this.$api.request.articleList({tagDTO:{tagName:n.tagName},startIndex:(n.pageNo-1)*this.pageSize,pageSize:this.pageSize},function(a){if("0"===a.body.status.statusCode){var r=a.body.data.articles,o=a.body.data.totalCount;n.newsList=n.newsList.concat(r),"refresh"===e&&(t.$refs.mixPulldownRefresh&&t.$refs.mixPulldownRefresh.endPulldownRefresh(),n.loadMoreStatus=0),"add"===e&&(n.loadMoreStatus=n.newsList.length>=o?2:0)}})},navToDetails:function(t){var n="";"1"===t.articleType&&"自定义内容"==t.linkType&&(n="/pages/content/details?id="+t.articleUuid),"1"===t.articleType&&"外部链接"==t.linkType&&(n="/pages/content/webView?src="+t.content),"2"!==t.articleType&&"3"!==t.articleType||(n="/pages/content/videoDetails?id="+t.articleUuid),e.navigateTo({url:n})},onPulldownReresh:function(){var e=this.tabBars[this.tabCurrentIndex];this.resetPage(e),this.loadNewsList("refresh")},resetPage:function(e){e.pageNo=1,e.newsList=[]},loadMore:function(){var e=this.tabBars[this.tabCurrentIndex];e.pageNo=e.pageNo+1,this.loadNewsList("add")},setEnableScroll:function(e){this.enableScroll!==e&&(this.enableScroll=e)},changeTab:function(){var e=s(a.default.mark(function e(t){var n,r,o,i,s,u=this;return a.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(h&&(clearTimeout(h),h=!1),n=t,"object"===typeof t&&(n=t.detail.current),"object"===typeof l){e.next=7;break}return e.next=6,this.getElSize("nav-bar");case 6:l=e.sent;case 7:l.scrollLeft,r=0,o=0,i=0;case 11:if(!(i<=n)){e.next=20;break}return e.next=14,this.getElSize("tab"+i);case 14:s=e.sent,r+=s.width,i===n&&(o=s.width);case 17:i++,e.next=11;break;case 20:"number"===typeof t&&(this.tabCurrentIndex=n),h=setTimeout(function(){u.scrollLeft=r-o/2>b/2?r-o/2-b/2:0,"object"===typeof t&&(u.tabCurrentIndex=n),u.tabCurrentIndex=n;var e=u.tabBars[u.tabCurrentIndex];0!==u.tabCurrentIndex&&!0!==e.loaded&&(u.loadNewsList("add"),e.loaded=!0)},300);case 22:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),getElSize:function(t){return new Promise(function(n,a){var r=e.createSelectorQuery().select("#"+t);r.fields({size:!0,scrollOffset:!0,rect:!0},function(e){n(e)}).exec()})}}};t.default=p}).call(this,n("543d")["default"])},dbb6:function(e,t,n){"use strict";var a=n("b1c0"),r=n.n(a);r.a}},[["0b36","common/runtime","common/vendor"]]]);