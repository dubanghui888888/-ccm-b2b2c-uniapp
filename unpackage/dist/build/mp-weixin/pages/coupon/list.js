(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/coupon/list"],{"042e":function(t,e,o){"use strict";var n=function(){var t=this,e=t.$createElement;t._self._c},a=[];o.d(e,"a",function(){return n}),o.d(e,"b",function(){return a})},"18a5":function(t,e,o){},"38ea":function(t,e,o){"use strict";o.r(e);var n=o("4646"),a=o.n(n);for(var u in n)"default"!==u&&function(t){o.d(e,t,function(){return n[t]})}(u);e["default"]=a.a},4646:function(t,e,o){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=o("2f62");function a(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{},n=Object.keys(o);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(t){return Object.getOwnPropertyDescriptor(o,t).enumerable}))),n.forEach(function(e){u(t,e,o[e])})}return t}function u(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var i=function(){return o.e("components/uni-load-more/uni-load-more").then(o.bind(null,"f1e9"))},r={components:{uniLoadMore:i},data:function(){return{pageNo:1,pageSize:10,coupons:[],total:0,loadingType:""}},onLoad:function(t){this.searchCoupon()},onReachBottom:function(){"more"===this.loadingType&&(this.pageNo=this.pageNo+1,this.searchCoupon())},computed:a({},(0,n.mapState)(["hasLogin","userInfo","footPrint"])),methods:{searchCoupon:function(){var t=this,e={keyArray:["ACTIVE"],active:!0,startIndex:(this.pageNo-1)*this.pageSize,pageSize:this.pageSize};this.loadingType="loading",this.$api.request.couponList(e,function(e){if("0"===e.body.status.statusCode){var o=e.body.data.coupons;t.coupons=t.coupons.concat(o),t.total=e.body.data.total,t.loadingType=t.coupons.length>=t.total?"noMore":"more"}else t.loadingType="more"},!0)},getCoupon:function(t){var e=this;this.$api.request.getCoupon({actionType:"RECEIVE",couponDTO:{couponUuid:t.couponUuid},userDTO:{userUuid:this.userInfo.userUuid},receiveChannel:"SELF"},function(t){"0"===t.body.status.statusCode?e.$api.msg("领取成功"):e.$api.msg(t.body.status.errorDesc)},!1)},resetPage:function(){this.coupons=[],this.total=0,this.pageNo=1},navToDetailPage:function(e){var o=e.productUuid;t.navigateTo({url:"/pages/product/product?id=".concat(o)})}}};e.default=r}).call(this,o("543d")["default"])},6946:function(t,e,o){"use strict";o.r(e);var n=o("042e"),a=o("38ea");for(var u in a)"default"!==u&&function(t){o.d(e,t,function(){return a[t]})}(u);o("e3a7");var i=o("2877"),r=Object(i["a"])(a["default"],n["a"],n["b"],!1,null,null,null);e["default"]=r.exports},e3a7:function(t,e,o){"use strict";var n=o("18a5"),a=o.n(n);a.a},fb71:function(t,e,o){"use strict";(function(t){o("542b"),o("921b");n(o("66fd"));var e=n(o("6946"));function n(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,o("543d")["createPage"])}},[["fb71","common/runtime","common/vendor"]]]);