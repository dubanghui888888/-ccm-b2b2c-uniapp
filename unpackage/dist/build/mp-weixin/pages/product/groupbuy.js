(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/product/groupbuy"],{"0ad8":function(t,n,e){"use strict";var u=e("51bb"),o=e.n(u);o.a},"395d":function(t,n,e){"use strict";var u=function(){var t=this,n=t.$createElement;t._self._c},o=[];e.d(n,"a",function(){return u}),e.d(n,"b",function(){return o})},4514:function(t,n,e){"use strict";(function(t){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var u=e("2f62");function o(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{},u=Object.keys(e);"function"===typeof Object.getOwnPropertySymbols&&(u=u.concat(Object.getOwnPropertySymbols(e).filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),u.forEach(function(n){r(t,n,e[n])})}return t}function r(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}var i=function(){return e.e("components/uni-countdown/uni-countdown").then(e.bind(null,"8081"))},c=function(){return e.e("components/uni-number-box").then(e.bind(null,"f062"))},s=function(){return e.e("components/uni-badge/uni-badge").then(e.bind(null,"742d"))},a=function(){return e.e("components/uni-popup/uni-popup").then(e.bind(null,"bc88"))},d={components:{uniNumberBox:c,uniBadge:s,uniPopup:a,uniCountdown:i},data:function(){return{id:"",groupId:"",unit:1,groupbuy:{},groupBuyCountDown:"",actionFlag:!1,endFlag:!1,interval:null,product:{unitPrice:0,unitPriceStandard:0,soldUnit:0,totalUnit:0,productMainImage:{},productImages:[],attrList:[]},productSku:{},cartNum:0,isProductCollected:!1,specClass:"none",specSelected:[],favorite:!0,type:"",commentList:[],totalComment:0,stars:[0,0,0,0,0]}},onLoad:function(t){var n=t.id;n&&(this.id=n,this.inquiryGroupBuy(n)),this.groupId=t.groupId},computed:o({},(0,u.mapState)(["hasLogin","userInfo"]),{shareHref:function(){var t=getCurrentPages(),n=t[t.length-1];return this.$api.request.apiBaseUrl.replace("/b2c/rest/","")+"/#/"+n.route+"?id="+this.product.productUuid}}),methods:o({},(0,u.mapMutations)(["login","addFootPrint"]),{togglePopup:function(t,n){var e=this;switch(t){case"top":this.content="顶部弹出 popup";break;case"bottom":this.content="底部弹出 popup";break;case"center":this.content="居中弹出 popup";break}this.type=t,this.$nextTick(function(){e.$refs["show"+n].open()})},closeShare:function(){this.$refs.showshare.close()},closeAttr:function(){this.$refs.showattr.close()},cancel:function(t){this.$refs.showshare.close()},change:function(t){console.log("是否打开:"+t.show)},inquiryGroupBuy:function(t){var n=this,e={groupBuyProductUuid:t};this.$api.request.groupBuy(e,function(t){"0"===t.body.status.statusCode?(n.groupbuy=t.body.data,n.product=n.groupbuy.productDTO,n.product.skuEnabled&&(n.productSku=n.product.skuList[0])):console.log(t.body.status.errorDesc)})},numberChange:function(t){this.unit=t.number},toggleSpec:function(){var t=this;"show"===this.specClass?(this.specClass="hide",setTimeout(function(){t.specClass="none"},250)):"none"===this.specClass&&(this.specClass="show")},selectSpec:function(t){this.productSku=t},buy:function(){var n="/pages/order/createGroupBuyOrder?groupBuyId="+this.groupId+"&groupBuyProductId="+this.id+"&productId="+this.product.productUuid+"&productSkuId="+this.productSku.productSkuUuid+"&unit="+this.unit;this.userInfo&&this.userInfo.userUuid?t.navigateTo({url:n}):t.navigateTo({url:"/pages/public/login?to="+escape(n)})},navTo:function(n){t.navigateTo({url:n})},previewImage:function(n){var e=[];e.push(n),t.previewImage({current:n,indicator:"number",loop:"true",urls:e})},stopPrevent:function(){}}),onUnload:function(){}};n.default=d}).call(this,e("543d")["default"])},"51bb":function(t,n,e){},"5b5e":function(t,n,e){"use strict";e.r(n);var u=e("395d"),o=e("d0fd");for(var r in o)"default"!==r&&function(t){e.d(n,t,function(){return o[t]})}(r);e("0ad8");var i=e("2877"),c=Object(i["a"])(o["default"],u["a"],u["b"],!1,null,null,null);n["default"]=c.exports},"92f5":function(t,n,e){"use strict";(function(t){e("542b"),e("921b");u(e("66fd"));var n=u(e("5b5e"));function u(t){return t&&t.__esModule?t:{default:t}}t(n.default)}).call(this,e("543d")["createPage"])},d0fd:function(t,n,e){"use strict";e.r(n);var u=e("4514"),o=e.n(u);for(var r in u)"default"!==r&&function(t){e.d(n,t,function(){return u[t]})}(r);n["default"]=o.a}},[["92f5","common/runtime","common/vendor"]]]);