{"version":3,"sources":["webpack:///E:/work/ccm/b2b2c/ccm-b2b2c-uniapp/main.js","webpack:///E:/work/ccm/b2b2c/ccm-b2b2c-uniapp/pages/order/createOrder.vue?ccc4","webpack:///E:/work/ccm/b2b2c/ccm-b2b2c-uniapp/pages/order/createOrder.vue?fba7","webpack:///E:/work/ccm/b2b2c/ccm-b2b2c-uniapp/pages/order/createOrder.vue?88a1","webpack:///E:/work/ccm/b2b2c/ccm-b2b2c-uniapp/pages/order/createOrder.vue?e508","webpack:///E:/work/ccm/b2b2c/ccm-b2b2c-uniapp/pages/order/createOrder.vue","webpack:///E:/work/ccm/b2b2c/ccm-b2b2c-uniapp/pages/order/createOrder.vue?072e","webpack:///E:/work/ccm/b2b2c/ccm-b2b2c-uniapp/pages/order/createOrder.vue?03bf"],"names":["createPage","Page","data","tabCurrentIndex","navList","state","text","cartIds","carts","productAmount","deductAmount","actualAmount","freightAmount","addressData","merchantData","maskState","memo","payType","coupons","selectedCoupon","type","isMultipleMerchant","components","uniPopup","onLoad","option","cart_id","JSON","parse","length","uni","navigateBack","delta","applicationConfig","applicationMerchantEnabled","push","inquiryProductByCartId","inquiryDefaultAddress","userInfo","userUuid","searchCoupon","computed","watch","val","calculateFreightAmount","province","city","area","methods","tabClick","index","that","postData","userDTO","$api","request","userShip","res","body","status","statusCode","addresses","forEach","default","console","log","errorDesc","cardIds","split","productByCardIds","calcSelectedProductAmount","toFixed","productDTO","merchantDTO","merchantUuid","keyArray","expired","used","started","startIndex","pageSize","userCoupon","userCoupons","clearSelectedCoupon","selectCoupon","item","shoppingCartUuidList","userCouponDTO","couponDTO","couponUuid","calculateCouponAmount","$refs","showcoupon","close","msg","deliveryProvince","deliveryCity","deliveryArea","cartData","amount","skuEnabled","productSkuDTO","skuUnitPrice","unit","unitPrice","change","e","show","togglePopup","open","content","$nextTick","toggleMask","timer","setTimeout","numberChange","number","changePayType","submit","userDeliveryAddressUuid","actionType","deliveryAddressDTO","deliveryType","userCouponUuid","createOrder","redirectTo","url","pOrderNo","stopPrevent"],"mappings":"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","file":"pages/order/createOrder.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'            \nimport Page from './pages/order/createOrder.vue'\ncreatePage(Page)","import { render, staticRenderFns } from \"./createOrder.vue?vue&type=template&id=408c7e80&\"\nimport script from \"./createOrder.vue?vue&type=script&lang=js&\"\nexport * from \"./createOrder.vue?vue&type=script&lang=js&\"\nimport style0 from \"./createOrder.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../MyDownloads/HBuilderX.2.3.0.20190919/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"E:\\\\MyDownloads\\\\HBuilderX.2.3.0.20190919\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('408c7e80', component.options)\n    } else {\n      api.reload('408c7e80', component.options)\n    }\n    module.hot.accept(\"./createOrder.vue?vue&type=template&id=408c7e80&\", function () {\n      api.rerender('408c7e80', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"work/ccm/b2b2c/ccm-b2b2c-uniapp/pages/order/createOrder.vue\"\nexport default component.exports","export * from \"-!../../../../../../MyDownloads/HBuilderX.2.3.0.20190919/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../MyDownloads/HBuilderX.2.3.0.20190919/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../MyDownloads/HBuilderX.2.3.0.20190919/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../MyDownloads/HBuilderX.2.3.0.20190919/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../MyDownloads/HBuilderX.2.3.0.20190919/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../MyDownloads/HBuilderX.2.3.0.20190919/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./createOrder.vue?vue&type=template&id=408c7e80&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../MyDownloads/HBuilderX.2.3.0.20190919/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../MyDownloads/HBuilderX.2.3.0.20190919/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../MyDownloads/HBuilderX.2.3.0.20190919/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../MyDownloads/HBuilderX.2.3.0.20190919/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../MyDownloads/HBuilderX.2.3.0.20190919/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../MyDownloads/HBuilderX.2.3.0.20190919/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./createOrder.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../MyDownloads/HBuilderX.2.3.0.20190919/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../MyDownloads/HBuilderX.2.3.0.20190919/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../MyDownloads/HBuilderX.2.3.0.20190919/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../MyDownloads/HBuilderX.2.3.0.20190919/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../MyDownloads/HBuilderX.2.3.0.20190919/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../MyDownloads/HBuilderX.2.3.0.20190919/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./createOrder.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport {\n\tmapState,\n\tmapMutations\n} from 'vuex';\nimport uniPopup from \"@/components/uni-popup/uni-popup.vue\"\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\ttabCurrentIndex:0,\n\t\t\tnavList: [{\n\t\t\t\t\tstate: '1',\n\t\t\t\t\ttext: '快递配送'\n\t\t\t\t}],\n\t\t\tcartIds: [],\n\t\t\tcarts: [], //结算的商品\n\t\t\tproductAmount: 0.00, //商品金额, 未扣减任何优惠\n\t\t\tdeductAmount: 0.00, //优惠金额\n\t\t\tactualAmount: 0.00, //实付金额\n\t\t\tfreightAmount: 0.00, //运费\n\t\t\taddressData: {}, //收货地址\n\t\t\tmerchantData: {}, //门店地址\n\t\t\tmaskState: 0, //优惠券面板显示状态\n\t\t\tmemo: '', //备注\n\t\t\tpayType: 1, //1微信 2支付宝\n\t\t\tcoupons: [], //有效优惠券\n\t\t\tselectedCoupon: {}, //选择使用的优惠券\n\t\t\ttype: '',\n\t\t\tisMultipleMerchant: false\t//订单是否包含多商家商品\n\t\t}\n\t},\n\tcomponents: {\n\t\tuniPopup\n\t},\n\tonLoad(option) {\n\t\t//商品数据\n\t\tvar cart_id = JSON.parse(option.data);\n\t\tif (cart_id.length < 0) {\n\t\t\tuni.navigateBack({\n\t\t\t\tdelta: 1\n\t\t\t})\n\t\t}\n\t\tthis.cartIds = cart_id;\n\t\t//如果开启了门店\n\t\tif(this.applicationConfig.applicationMerchantEnabled){\n\t\t\tthis.navList.push({\n\t\t\t\t\tstate: '2',\n\t\t\t\t\ttext: '门店自提'\n\t\t\t\t})\n\t\t}\n\t\tthis.inquiryProductByCartId(this.cartIds);\n\t\tthis.inquiryDefaultAddress(this.userInfo.userUuid);\n\t\tthis.searchCoupon();\n\t},\n\tcomputed: {\n\t\t...mapState(['hasLogin', 'userInfo', 'applicationConfig'])\n\t},\n\twatch: {\n\t\taddressData(val) {\n\t\t\tthis.calculateFreightAmount(this.cartIds, val.province, val.city, val.area);\n\t\t}\n\t},\n\tmethods: {\n\t\ttabClick(index) {\n\t\t\tthis.tabCurrentIndex = index;\n\t\t\tif(index==1){\n\t\t\t\tthis.actualAmount = this.productAmount - this.deductAmount;\n\t\t\t}else if(index==0){\n\t\t\t\tthis.actualAmount = this.productAmount - this.deductAmount + this.freightAmount;\n\t\t\t}\n\t\t},\n\t\t//查询默认收货地址\n\t\tinquiryDefaultAddress(userUuid) {\n\t\t\tlet that = this;\n\t\t\tlet postData = {\n\t\t\t\tuserDTO: {\n\t\t\t\t\tuserUuid: userUuid\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.$api.request.userShip(postData, res => {\n\t\t\t\tif (res.body.status.statusCode === '0') {\n\t\t\t\t\tres.body.data.addresses.forEach(function(val, index) {\n\t\t\t\t\t\tif (val.default) {\n\t\t\t\t\t\t\tthat.addressData = val;\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t} else {\n\t\t\t\t\tconsole.log(res.body.status.errorDesc);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t//查询订单商品\n\t\tinquiryProductByCartId(cardIds) {\n\t\t\tlet that = this;\n\t\t\tlet postData = cardIds.split(',');\n\t\t\tthis.$api.request.productByCardIds(postData, res => {\n\t\t\t\tif (res.body.status.statusCode === '0') {\n\t\t\t\t\tthis.carts = res.body.data.carts;\n\t\t\t\t\tvar productAmount = this.calcSelectedProductAmount(this.carts);\n\t\t\t\t\tthis.productAmount = productAmount.toFixed(2);\n\t\t\t\t\tthis.actualAmount = this.productAmount - this.deductAmount + this.freightAmount;\n\t\t\t\t\t\n\t\t\t\t\t//是否包含多个商家商品\n\t\t\t\t\tthis.carts.forEach(function(val,index){\n\t\t\t\t\t\tif(that.carts[index+1].productDTO.merchantDTO.merchantUuid!=that.carts[index].productDTO.merchantDTO.merchantUuid){\n\t\t\t\t\t\t\tthat.isMultipleMerchant = true;\t\t\t\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t} else {\n\t\t\t\t\tconsole.log(res.body.status.errorDesc);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t//搜索可用优惠券\n\t\tsearchCoupon() {\n\t\t\tvar keyArray = ['USER', 'IS_EXPIRED', 'IS_USED', 'IS_STARTED'];\n\t\t\tlet postData = {\n\t\t\t\tkeyArray: keyArray,\n\t\t\t\tuserUuid: this.userInfo.userUuid,\n\t\t\t\texpired: false,\n\t\t\t\tused: false,\n\t\t\t\tstarted: true,\n\t\t\t\tstartIndex: 0,\n\t\t\t\tpageSize: 50 //默认查询50张有效优惠券, 用户大于50张则多余部分不会显示\n\t\t\t};\n\t\t\t//加载中\n\t\t\tthis.$api.request.userCoupon(postData, res => {\n\t\t\t\tif (res.body.status.statusCode === '0') {\n\t\t\t\t\tvar coupons = res.body.data.userCoupons;\n\t\t\t\t\tthis.coupons = coupons;\n\t\t\t\t}\n\t\t\t}, true);\n\t\t},\n\t\t// 不使用优惠券\n\t\tclearSelectedCoupon() {\n\t\t\tthis.selectedCoupon = {};\n\t\t\tthis.deductAmount = 0.00;\n\t\t\tthis.actualAmount = this.productAmount - this.deductAmount + this.freightAmount;\n\t\t},\n\t\t// 选中优惠券\n\t\tselectCoupon(item) {\n\t\t\t//计算当前商品使用优惠券后的优惠金额\n\t\t\tlet postData = {\n\t\t\t\tshoppingCartUuidList: this.cartIds.split(','),\n\t\t\t\tuserCouponDTO: {\n\t\t\t\t\tcouponDTO: {\n\t\t\t\t\t\tcouponUuid: item.couponDTO.couponUuid\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.$api.request.calculateCouponAmount(postData, res => {\n\t\t\t\tif (res.body.status.statusCode === '0') {\n\t\t\t\t\tthis.deductAmount = res.body.data.deductAmount;\n\t\t\t\t\tthis.actualAmount = this.productAmount - this.deductAmount + this.freightAmount;\n\t\t\t\t\tthis.selectedCoupon = item;\n\t\t\t\t\tthis.$refs.showcoupon.close();\n\t\t\t\t} else {\n\t\t\t\t\tthis.$api.msg(res.body.status.errorDesc);\n\t\t\t\t}\n\t\t\t}, false);\n\t\t},\n\t\t// 计算运费金额\n\t\tcalculateFreightAmount(item, province, city, area) {\n\t\t\tlet postData = {\n\t\t\t\tshoppingCartUuidList: this.cartIds.split(','),\n\t\t\t\tdeliveryProvince: province,\n\t\t\t\tdeliveryCity: city,\n\t\t\t\tdeliveryArea: area\n\t\t\t}\n\t\t\tthis.$api.request.calculateFreightAmount(postData, res => {\n\t\t\t\tif (res.body.status.statusCode === '0') {\n\t\t\t\t\tthis.freightAmount = res.body.data.freightAmount;\n\t\t\t\t\tthis.actualAmount = this.productAmount - this.deductAmount + this.freightAmount;\n\t\t\t\t} else {\n\t\t\t\t\tthis.$api.msg(res.body.status.errorDesc);\n\t\t\t\t}\n\t\t\t}, false);\n\t\t},\n\t\t//计算总金额\n\t\tcalcSelectedProductAmount(cartData) {\n\t\t\tvar amount = 0;\n\t\t\tcartData.forEach(function(val, index) {\n\t\t\t\tif (val.productDTO.skuEnabled) {\n\t\t\t\t\tamount = amount + val.productSkuDTO.skuUnitPrice * val.unit;\n\t\t\t\t} else {\n\t\t\t\t\tamount = amount + val.productDTO.unitPrice * val.unit;\n\t\t\t\t}\n\t\t\t})\n\t\t\treturn amount;\n\t\t},\n\t\tchange(e) {\n\t\t\tconsole.log('是否打开:' + e.show)\n\t\t},\n\t\ttogglePopup(type, open) {\n\t\t\tswitch (type) {\n\t\t\t\tcase 'top':\n\t\t\t\t\tthis.content = '顶部弹出 popup'\n\t\t\t\t\tbreak\n\n\t\t\t\tcase 'bottom':\n\t\t\t\t\tthis.content = '底部弹出 popup'\n\t\t\t\t\tbreak\n\t\t\t\tcase 'center':\n\t\t\t\t\tthis.content = '居中弹出 popup'\n\t\t\t\t\tbreak\n\t\t\t}\n\t\t\tthis.type = type\n\t\t\tthis.$nextTick(() => {\n\t\t\t\tthis.$refs['show' + open].open()\n\t\t\t})\n\t\t},\n\t\t//显示优惠券面板\n\t\ttoggleMask(type) {\n\t\t\tlet timer = type === 'show' ? 10 : 300;\n\t\t\tlet state = type === 'show' ? 1 : 0;\n\t\t\tthis.maskState = 2;\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.maskState = state;\n\t\t\t}, timer)\n\t\t},\n\t\tnumberChange(data) {\n\t\t\tthis.number = data.number;\n\t\t},\n\t\tchangePayType(type) {\n\t\t\tthis.payType = type;\n\t\t},\n\t\tsubmit() {\n\t\t\t//检查收货地址是否选择\n\t\t\tif (this.tabCurrentIndex==0&&!this.addressData.userDeliveryAddressUuid) {\n\t\t\t\tthis.$api.msg('未选择收货地址');\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.tabCurrentIndex==1&&!this.merchantData.merchantUuid) {\n\t\t\t\tthis.$api.msg('未选择提货门店');\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t//post订单数据到后台\n\t\t\tlet postData = {\n\t\t\t\tactionType: 'ADD',\n\t\t\t\tuserDTO: {\n\t\t\t\t\tuserUuid: this.userInfo.userUuid\n\t\t\t\t},\n\t\t\t\tdeliveryAddressDTO: {\n\t\t\t\t\tuserDeliveryAddressUuid: this.addressData.userDeliveryAddressUuid\n\t\t\t\t},\n\t\t\t\tmerchantDTO:{\n\t\t\t\t\tmerchantUuid: this.merchantData.merchantUuid\n\t\t\t\t},\n\t\t\t\tdeliveryType: this.tabCurrentIndex==0?'1':'2',\n\t\t\t\tshoppingCartUuidList: this.cartIds.split(',')\n\t\t\t}\n\t\t\tif (this.selectedCoupon.userCouponUuid) {\n\t\t\t\tpostData.userCouponDTO = {\n\t\t\t\t\tuserCouponUuid: this.selectedCoupon.userCouponUuid,\n\t\t\t\t\tcouponDTO: {\n\t\t\t\t\t\tcouponUuid: this.selectedCoupon.couponDTO.couponUuid\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.$api.request.createOrder(postData, res => {\n\t\t\t\tif (res.body.status.statusCode === '0') {\n\t\t\t\t\tuni.redirectTo({\n\t\t\t\t\t\turl: '/pages/money/pay?pOrderNo=' + res.body.data.pOrderNo\n\t\t\t\t\t})\n\t\t\t\t} else {\n\t\t\t\t\tthis.$api.msg(res.body.status.errorDesc);\n\t\t\t\t}\n\t\t\t});\n\n\t\t},\n\t\tstopPrevent() {}\n\t}\n}\n","import mod from \"-!../../../../../../MyDownloads/HBuilderX.2.3.0.20190919/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../MyDownloads/HBuilderX.2.3.0.20190919/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../../../MyDownloads/HBuilderX.2.3.0.20190919/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--8-oneOf-1-2!../../../../../../MyDownloads/HBuilderX.2.3.0.20190919/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../MyDownloads/HBuilderX.2.3.0.20190919/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../MyDownloads/HBuilderX.2.3.0.20190919/plugins/uniapp-cli/node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../../../MyDownloads/HBuilderX.2.3.0.20190919/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../MyDownloads/HBuilderX.2.3.0.20190919/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../MyDownloads/HBuilderX.2.3.0.20190919/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../MyDownloads/HBuilderX.2.3.0.20190919/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./createOrder.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../../MyDownloads/HBuilderX.2.3.0.20190919/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../MyDownloads/HBuilderX.2.3.0.20190919/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../../../MyDownloads/HBuilderX.2.3.0.20190919/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--8-oneOf-1-2!../../../../../../MyDownloads/HBuilderX.2.3.0.20190919/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../MyDownloads/HBuilderX.2.3.0.20190919/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../MyDownloads/HBuilderX.2.3.0.20190919/plugins/uniapp-cli/node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../../../MyDownloads/HBuilderX.2.3.0.20190919/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../MyDownloads/HBuilderX.2.3.0.20190919/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../MyDownloads/HBuilderX.2.3.0.20190919/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../MyDownloads/HBuilderX.2.3.0.20190919/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./createOrder.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}